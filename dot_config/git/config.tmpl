{{- with (get . "git") }}
[user]
{{- with (get . "name") }}
  name = {{ . }}
{{- end }}
{{- with (get . "email") }}
  email = {{ . }}
{{- end }}
{{- with (get . "signingKey") }}
  signingKey = {{ . }}
{{- end }}
{{- end }}

[alias]
  a = add
  aa = add --all
  c = commit
  ca = commit -a
  cm = commit -m
  amend = commit --amend --no-edit
  s = status
  d = diff
  dc = diff --cached
  co = checkout
  cob = checkout -b
  pl = pull
  pu = push
  puf = push --force
  lg = log --graph --abbrev-commit --decorate --format=format:'%C(blue)%h%C(reset) - %C(green)(%ar)%C(reset) %s %C(italic)- %an%C(reset)%C(magenta bold)%d%C(reset)' --all
  rb = rebase
  rba = rebase --abort
  rbc = rebase --continue
  rbi = rebase --interactive
  rbs = rebase --skip
  r = reset HEAD
  rs = restore --staged

{{- with (get . "git") }}
{{- with (get . "signingKey") }}

[commit]
  gpgSign = true

[gpg]
  format = ssh

[gpg "ssh"]
  allowedSignersFile = ~/.ssh/allowed_signers
{{- end }}
{{- end }}

[pull]
  rebase = true

[init]
  defaultBranch = master

[fetch]
  prune = true

[diff]
  colorMoved = default

[core]
  excludesfile = ~/.config/git/ignore

[filter "lfs"]
  clean = git-lfs clean -- %f
  smudge = git-lfs smudge -- %f
  process = git-lfs filter-process
  required = true

[include]
  path = ~/.config/git/config.local
